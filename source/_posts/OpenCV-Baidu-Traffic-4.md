---
title: OpenCV --- 基于 OpenCV 的百度路况研究记录 (四)
date: 2019-05-15 10:28:53
description: 基于 OpenCV 的百度路况研究记录
categories: [OpenCV篇]
tags: [OpenCV]
---

<!-- more -->
### 背景
本篇主要内容:
1. 搭建离线地址解析服务


### 主要内容
继上篇研究内容之后,重新思考了之前抛出的问题: 如何获取某个省或市的道路信息?

之前对于该问题的解法有 2 种:

1. 使用总队或者支队提供的道路信息,然后根据分析出来的经纬度和提供的道路信息进行匹配

2. 调用互联网接口,进行经纬度转道路地址

分析这 2 中方式之后,其弊端很明显:

第一种方式:  

1. 无法确定总队或者支队是否能够提供道路信息; 

2. 提供的数据又是否足够详细全面,要知道在百度地图 17 等级下,解析出来的道路是很详细的 

3. 姑且算是提供了,格式又是否能够统一? 能否做到一套代码解决普遍问题?

第二种方式:

1. 需要个人申请 key ,才能调用 API

2. 解析 API 每日有次数限制, 5000次/天,对于该城市版分析服务来说,远远不够 


经过一番分析和折腾后,于内网搭建了离线版的地址解析服务,提供 API,将经纬度转化为道路信息, API 返回数据如下:

![](//s3.joylau.cn:9000/blog/geocoder-reverse.png)


支持返回的数据很详细: 省,市,行政区划,邮编,道路名,附近的建筑物,公交站牌,商场等

该服务 数据范围覆盖全国,  支持多线程调用,  单次 API 调用耗时为 10 ms - 30 ms 左右,  对机器的磁盘要求高



最后,我录了个短视频看下实际的使用效果:
<center><video src="//s3.joylau.cn:9000/blog/geocoder-reverse.mp4" loop="true" controls="controls">您的浏览器版本太低，无法观看本视频</video></center>




